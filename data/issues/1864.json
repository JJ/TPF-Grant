{
  "body": "ref: https://docs.perl6.org/language/variables#The_$_Variable\r\n\r\nThe fourth example in this section says\r\n> \"If you need to use the value of $ more than once in a scope, it should be copied to a new variable.\"\r\n\r\nbut the example code which follows doesn't actually show doing that (it shows `given ++$ { ... }` which is only a single usage.)\r\n\r\nAlso, _copying_ $ only allows reading the value more than once, not updating it.   A more general solution is to _bind_ another variable to $.  Then multiple reads & writes can be done.\r\n\r\nSuggestion: Replace the above-quoted text and the example below it with the following:\r\n\r\n<i>If you need to reference the same $ variable more than once, bind another variable to it (in this example it would be more straightforward to just declare `state $x` and not use the magical `$` variable):</i>\r\n\r\n<pre>\r\nsub foo () {\r\n  my $x := $;\r\n  $x++;\r\n  say $x;\r\n  $x = $x + 1;\r\n}\r\n\r\nfoo() for ^3;\r\n# OUTPUT: «1␤3␤5␤»\r\n</pre>\r\n\r\n(QUESTION: Is there a realistic use case for multiple-references to `$`?  That is, is there a case where `$` must be used instead of a regular `state $foo` and/or where the former is more clear and understandable?)\r\n\r\n<br/>\r\n<br/>\r\n\r\nRelatedly, the examples of using the `@` and `%` state variables use the phrase \"copy the value\" when actually a reference is being copied.  For beginners this may be confusing.  For example, at https://docs.perl6.org/language/variables#The_@_Variable it says to \"copy the value\" like this:\r\n<pre>\r\nsub foo($x) {\r\n    my $v = @;\r\n    $v[$x] = $x;\r\n    say $v;\r\n}\r\n</pre>\r\nBut the `$v = @` does not actually copy the array, but creates a scalar container containing a reference to the array, er, at least I think that's the correct language (see, it's confusing!)\r\n\r\nTo avoid irrelevant distractions, an example using an _explicit_ bind might be less confusing:\r\n<pre>\r\nsub foo($x) {\r\n    my @v := @;\r\n    @v[$x] = $x;\r\n    say @v;\r\n}\r\nfoo($_) for ^3;\r\n</pre>",
  "author_association": "NONE",
  "assignees": [
    
  ],
  "assignee": null,
  "closed_by": null,
  "updated_at": "2018-03-23T19:24:28Z",
  "created_at": "2018-03-22T20:40:42Z",
  "comments_url": "https://api.github.com/repos/perl6/doc/issues/1864/comments",
  "locked": false,
  "title": "LTA example of using The $ Variable more than once",
  "id": 307806465,
  "html_url": "https://github.com/perl6/doc/issues/1864",
  "closed_at": null,
  "milestone": null,
  "state": "open",
  "labels_url": "https://api.github.com/repos/perl6/doc/issues/1864/labels{/name}",
  "number": 1864,
  "comments": 2,
  "labels": [
    {
      "color": "c43d38",
      "name": "JJ TPF Grant",
      "id": 876253868,
      "default": false,
      "url": "https://api.github.com/repos/perl6/doc/labels/JJ%20TPF%20Grant"
    },
    {
      "color": "b60205",
      "name": "bug",
      "id": 676814023,
      "default": true,
      "url": "https://api.github.com/repos/perl6/doc/labels/bug"
    },
    {
      "color": "5DE0FA",
      "name": "new",
      "id": 676800971,
      "default": false,
      "url": "https://api.github.com/repos/perl6/doc/labels/new"
    }
  ],
  "events_url": "https://api.github.com/repos/perl6/doc/issues/1864/events",
  "user": {
    "following_url": "https://api.github.com/users/jimav/following{/other_user}",
    "gists_url": "https://api.github.com/users/jimav/gists{/gist_id}",
    "received_events_url": "https://api.github.com/users/jimav/received_events",
    "organizations_url": "https://api.github.com/users/jimav/orgs",
    "subscriptions_url": "https://api.github.com/users/jimav/subscriptions",
    "html_url": "https://github.com/jimav",
    "id": 1262272,
    "login": "jimav",
    "type": "User",
    "repos_url": "https://api.github.com/users/jimav/repos",
    "site_admin": false,
    "events_url": "https://api.github.com/users/jimav/events{/privacy}",
    "gravatar_id": "",
    "avatar_url": "https://avatars0.githubusercontent.com/u/1262272?v=4",
    "starred_url": "https://api.github.com/users/jimav/starred{/owner}{/repo}",
    "followers_url": "https://api.github.com/users/jimav/followers",
    "url": "https://api.github.com/users/jimav"
  },
  "repository_url": "https://api.github.com/repos/perl6/doc",
  "url": "https://api.github.com/repos/perl6/doc/issues/1864"
}